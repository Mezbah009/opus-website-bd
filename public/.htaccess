<IfModule mod_rewrite.c>
    <IfModule mod_negotiation.c>
        Options -MultiViews -Indexes
    </IfModule>

    RewriteEngine On

    # Handle Authorization Header
    RewriteCond %{HTTP:Authorization} .
    RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]

    # Redirect Trailing Slashes If Not A Folder...
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteCond %{REQUEST_URI} (.+)/$
    RewriteRule ^ %1 [L,R=301]

    # Send Requests To Front Controller...
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteRule ^ index.php [L]
</IfModule>



# <IfModule mod_rewrite.c>
#     <IfModule mod_negotiation.c>
#         Options -MultiViews -Indexes
#     </IfModule>

#     # ---------------------------------------------------------
#     # 1. Force HTTPS and WWW (canonical URL: https://www.opus-bd.com)
#     # ---------------------------------------------------------
#     RewriteEngine On
#     RewriteCond %{HTTPS} off [OR]
#     RewriteCond %{HTTP_HOST} !^www\. [NC]
#     RewriteRule ^ https://www.opus-bd.com%{REQUEST_URI} [L,R=301]

#     # ---------------------------------------------------------
#     # 2. Handle Authorization Header
#     # ---------------------------------------------------------
#     RewriteCond %{HTTP:Authorization} .
#     RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]

#     # ---------------------------------------------------------
#     # 3. Remove Trailing Slashes (if not a folder)
#     # ---------------------------------------------------------
#     RewriteCond %{REQUEST_FILENAME} !-d
#     RewriteCond %{REQUEST_URI} (.+)/$
#     RewriteRule ^ %1 [L,R=301]

#     # ---------------------------------------------------------
#     # 4. Send Requests to Laravel Front Controller
#     # ---------------------------------------------------------
#     RewriteCond %{REQUEST_FILENAME} !-d
#     RewriteCond %{REQUEST_FILENAME} !-f
#     RewriteRule ^ index.php [L]
# </IfModule>

# # ---------------------------------------------------------
# # 5. Enable Gzip Compression
# # ---------------------------------------------------------
# <IfModule mod_deflate.c>
#     AddOutputFilterByType DEFLATE text/html text/plain text/xml text/css
#     AddOutputFilterByType DEFLATE application/javascript application/x-javascript application/json
#     AddOutputFilterByType DEFLATE application/xml application/xhtml+xml
#     AddOutputFilterByType DEFLATE font/otf font/ttf font/woff font/woff2 image/svg+xml

#     # Fix for older browsers
#     BrowserMatch ^Mozilla/4 gzip-only-text/html
#     BrowserMatch ^Mozilla/4\.0[678] no-gzip
#     BrowserMatch \bMSIE !no-gzip !gzip-only-text/html
# </IfModule>

# # ---------------------------------------------------------
# # 6. Enable Browser Caching
# # ---------------------------------------------------------
# <IfModule mod_expires.c>
#     ExpiresActive On
#     ExpiresDefault "access plus 1 month"
#     ExpiresByType image/jpg "access plus 1 year"
#     ExpiresByType image/jpeg "access plus 1 year"
#     ExpiresByType image/gif "access plus 1 year"
#     ExpiresByType image/png "access plus 1 year"
#     ExpiresByType text/css "access plus 1 month"
#     ExpiresByType text/javascript "access plus 1 month"
#     ExpiresByType application/javascript "access plus 1 month"
#     ExpiresByType application/x-javascript "access plus 1 month"
#     ExpiresByType application/pdf "access plus 1 month"
#     ExpiresByType application/x-shockwave-flash "access plus 1 month"
#     ExpiresByType image/x-icon "access plus 1 year"
# </IfModule>

